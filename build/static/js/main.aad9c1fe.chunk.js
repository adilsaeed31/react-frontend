(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t,a){e.exports=a(351)},194:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(7),o=a.n(s),l=a(48),i=a(59),c=a(166),m=a(181),u=a(52),d={status:null,message:null,isLoading:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u.AUTH_FAILURE:return{status:n.status,message:n.message,isLoading:!1};case u.AUTH_SUCCESS:return{status:n.status,message:n.message,data:n.data,isLoading:!1};case u.AUTH_LOADING:return Object(m.a)({},e,{isLoading:n.isLoading});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.c)({AuthReducer:p});return Object(i.e)(t,e,Object(i.d)(Object(i.a)(c.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))},h=(a(194),a(182)),E=a(45),f=a(46),y=a(49),b=a(47),v=a(50),O=a(29),w=a(92);function j(e){return{type:u.AUTH_LOADING,payload:e}}function T(e){return{type:u.AUTH_FAILURE,payload:e}}function S(e){return{type:u.AUTH_SUCCESS,payload:e}}var A=a(353),L=a(359),C=a(361),I=a(354),N=a(355),_=a(358),U=a(360),k=a(11),x=a(93),P=a(100),F=A.a.Header,D=A.a.Content,H=A.a.Footer,R=L.a.Title,q=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.dispatch(j({isLoading:!0})),a.props.form.validateFields(function(e,t){e?(a.props.dispatch(T({status:422,message:"Unprocessable Entity"})),C.a.error({message:"Error",description:"Something happened wrong"})):fetch("http://localhost:8000/auth/signin",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.props.dispatch(S(e)),200===e.status?(C.a.success({message:"Success",description:e.message,duration:1}),a.props.history.push("/dashboard")):C.a.error({message:"Error",description:e.message})})})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.form.getFieldDecorator;return n.createElement(A.a,null,n.createElement(F,null,n.createElement(I.a,{type:"flex",justify:"start",align:"middle",className:"has-margin-1"},n.createElement(N.a,{span:12},n.createElement(O.b,{to:"/"},n.createElement(R,{level:2,className:"logo"},"#OrderTogether"))))),n.createElement(D,null,n.createElement(I.a,{type:"flex",justify:"center",align:"middle"},n.createElement(N.a,{span:12},n.createElement(_.a,{onSubmit:this.handleSubmit,className:"login-form"},n.createElement(_.a.Item,null,a("email",{rules:[{required:!0,message:"Please input your email!"}]})(n.createElement(U.a,{prefix:n.createElement(k.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"email"}))),n.createElement(_.a.Item,null,a("password",{rules:[{required:!0,message:"Please input your Password!"}]})(n.createElement(U.a,{prefix:n.createElement(k.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),n.createElement(_.a.Item,null,a("remember",{valuePropName:"checked",initialValue:!0})(n.createElement(x.a,null,"Remember me")),n.createElement(P.a,{disabled:t,type:"primary",htmlType:"submit",className:"login-form-button"},t?"Authenticating ...":"Log in"),"Or ",n.createElement(O.b,{to:"/register"},"Register")))))),n.createElement(H,null,"#OrderTogether \xa9 2019"))}}]),t}(n.PureComponent),B=_.a.create({name:"auth_login"})(q),G=Object(l.b)(function(e){var t=e.AuthReducer;return{status:t.status,message:t.message,data:t.data,isLoading:t.isLoading}},function(e){return{dispatch:e}})(B),J=a(99),V=A.a.Header,W=A.a.Content,X=A.a.Footer,K=L.a.Title,M=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Confirm password that you enter is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a.handleSubmit=function(e){e.preventDefault(),a.props.dispatch(j({isLoading:!0})),a.props.form.validateFields(function(e,t){console.log(e,"err"),e?(a.props.dispatch(T({status:422,message:"Unprocessable Entity"})),C.a.error({message:"Error",description:"Something happened wrong"})):fetch("http://localhost:8000/auth/signup",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.props.dispatch(S(e)),200===e.status?(C.a.success({message:"Success",description:e.message+". You can login now!",duration:1}),a.props.form.resetFields(),a.props.history.push("/")):C.a.error({message:"Error",description:e.message})})})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.form.getFieldDecorator,r={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return n.createElement(A.a,null,n.createElement(V,null,n.createElement(I.a,{type:"flex",justify:"start",align:"middle",className:"has-margin-1"},n.createElement(N.a,{span:12},n.createElement(O.b,{to:"/"},n.createElement(K,{level:2,className:"logo"},"#OrderTogether"))))),n.createElement(W,null,n.createElement(I.a,{type:"flex",justify:"center",align:"middle"},n.createElement(N.a,{span:12},n.createElement(_.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit,className:"register-form"}),n.createElement(_.a.Item,{label:n.createElement("span",null,"Full Name\xa0",n.createElement(J.a,{title:"What do you want others to call you?"},n.createElement(k.a,{type:"question-circle-o"})))},a("name",{rules:[{required:!0,message:"Please input your Full Name!",whitespace:!0}]})(n.createElement(U.a,null))),n.createElement(_.a.Item,{label:"E-mail"},a("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(n.createElement(U.a,null))),n.createElement(_.a.Item,{label:"Password"},a("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(n.createElement(U.a,{type:"password"}))),n.createElement(_.a.Item,{label:"Confirm Password"},a("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(n.createElement(U.a,{type:"password",onBlur:this.handleConfirmBlur}))),n.createElement(_.a.Item,r,a("checked",{valuePropName:"agreement",rules:[{required:!0,message:"Are you agree with our agreement?"}]})(n.createElement(x.a,null,"I have read the ",n.createElement(O.b,{to:"/"},"agreement")))),n.createElement(_.a.Item,r,n.createElement(P.a,{disabled:t,type:"primary",htmlType:"submit"},"Register"),n.createElement(O.b,{to:"/",style:{float:"right"}},"Back to Login")))))),n.createElement(X,null,"#OrderTogether \xa9 2019"))}}]),t}(n.PureComponent),Y=_.a.create({name:"auth_register"})(M),$=Object(l.b)(function(e){var t=e.AuthReducer;return{status:t.status,message:t.message,data:t.data,isLoading:t.isLoading}},function(e){return{dispatch:e}})(Y),z=a(356),Q=a(352),Z=a(357),ee=A.a.Header,te=A.a.Content,ae=A.a.Footer,ne=A.a.Sider,re=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8000/users",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){return e.setState({users:t.data})})}},{key:"render",value:function(){var e=[{title:"Name",dataIndex:"name",key:"name",render:function(e){return r.a.createElement("a",{href:"javascript:;"},e)}},{title:"Email",dataIndex:"email",key:"email"},{title:"Created At",dataIndex:"createdAt",key:"createdAt"},{title:"Action",key:"action",render:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{type:"primary"},"Invite ",t.name),r.a.createElement(z.a,{type:"vertical"}),r.a.createElement(P.a,{type:"danger"},"Delete"))}}];return r.a.createElement(A.a,null,r.a.createElement(ne,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)}},r.a.createElement("div",{className:"logo"}),r.a.createElement(Q.b,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(Q.b.Item,{key:"1"},r.a.createElement(k.a,{type:"user"}),r.a.createElement("span",{className:"nav-text"},"Users")),r.a.createElement(Q.b.Item,{key:"2"},r.a.createElement(k.a,{type:"user"}),r.a.createElement("span",{className:"nav-text"},r.a.createElement(O.b,{to:"/"},"Logout"))))),r.a.createElement(A.a,null,r.a.createElement(ee,{style:{background:"#fff",padding:0}}),r.a.createElement(te,{style:{margin:"24px 16px 0"}},r.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},r.a.createElement(Z.a,{rowKey:"id",columns:e,dataSource:this.state.users}))),r.a.createElement(ae,{style:{textAlign:"center"}},"#OrderTogether \xa92019")))}}]),t}(r.a.Component),se=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return n.createElement(O.a,null,n.createElement(w.a,{exact:!0,path:"/",component:G}),n.createElement(w.a,{path:"/register",component:$}),n.createElement(oe,{path:"/dashboard",component:re}))}}]),t}(n.Component);function oe(e){var t=e.component,a=e.isLogin,r=Object(h.a)(e,["component","isLogin"]);return console.log(a),n.createElement(w.a,Object.assign({},r,{render:function(e){return n.createElement(t,e)}}))}var le=Object(l.b)(function(e){var t=e.AuthReducer;return{status:t.status,message:t.message,data:t.data,isLoading:t.isLoading}})(se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{store:g()},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t){e.exports={AUTH_LOADING:"AUTH_LOADING",AUTH_FAILURE:"AUTH_FAILURE",AUTH_SUCCESS:"AUTH_SUCCESS"}}},[[185,2,1]]]);
//# sourceMappingURL=main.aad9c1fe.chunk.js.map